@(ligue: model.orga.Ligue, ranking: model.rank.SeasonPairsRanking)
@import model.orga._
@import model.rank._

@layout.pdf(Some(Messages("rank.junior.ligue.caption", ligue.name, ranking.season)),landscape=false) {
    <table class="ranking">
        <thead>
            <tr>
                <th></th>
                <th>@Messages("rank.name")</th>
                <th>@Messages("rank.club")</th>
                @for(tournament <- ranking.tournaments) {
                    @tournament match {
                        case cl:CoupeLigue => {
                            <th>@Messages("rank.ligue.coupe")</th>
                        }
                        case ol:OpenLigue => {
                            <th>@Messages("rank.ligue.open")</th>
                        }
                        case ml:MasterLigue => {
                            <th>@Messages("rank.ligue.master")</th>
                        }
                        case cr:ComiteRank => {
                            <th>@Messages("rank.ligue.comite.rank")</th>
                        }
                        case nt:NationalTournament => {
                            <th>@Messages(s"rank.ligue.national.${nt.shortName.toLowerCase}")</th>
                        }
                        case _ => {}
                    }
                }
                <th>@Messages("rank.point")</th>
            </tr>
        </thead>
        <tbody>
        @for((rank, index) <- ranking.ordered.zipWithIndex) {
            <tr class="@if(index % 2 == 0) {odd} else {even}">
                <td>
                @defining(ranking.getPosition(rank)) { pos =>
                    @if(LigueRanking.qualifyForMasterPairs(pos)) {
                        <strong>@pos</strong>
                    } else {
                        @pos
                    }
                }
                </td>
                <td class="left">@rank.participant</td>
                <td>@rank.participant.clubAsString</td>
                @for(tournament <- ranking.tournaments) {
                    <td>
                    @if(rank.results.contains(tournament)) {
                        @tournament.getPointAsString(rank.results(tournament))
                    }
                    </td>
                }
                <td>@rank.points</td>
            </tr>
        }
        </tbody>
    </table>
}
